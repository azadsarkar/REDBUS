{% extends 'base.html' %}

{% block content %}

<h1 style="text-align:center; color: #333;">***********BUS DETAILS*********************</h1>

<a href="{% url 'add_bus' %}">
    <button type="button" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
        Add Bus and Bus Route
    </button>
</a>

<a href="{% url 'bus_schedule_details' %}">
    <button type="button" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
        Add Bus Schedule Details
    </button>
</a>

<!-- Table to display the data -->
<table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
    <thead>
        <tr style="background-color: #f2f2f2;">
            <th style="padding: 12px; text-align: center; border: 1px solid #ddd; color: #333;">ID</th>
            <th style="padding: 12px; text-align: center; border: 1px solid #ddd; color: #333;">Source</th>
            <th style="padding: 12px; text-align: center; border: 1px solid #ddd; color: #333;">Destination</th>
            <th style="padding: 12px; text-align: center; border: 1px solid #ddd; color: #333;">Bus</th>
            <th style="padding: 12px; text-align: center; border: 1px solid #ddd; color: #333;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for data in data %}
            <tr>
                <td style="padding: 10px; text-align: center; border: 1px solid #ddd;">{{ data.id }}</td>
                <td style="padding: 10px; text-align: center; border: 1px solid #ddd;">{{ data.sourse }}</td>
                <td style="padding: 10px; text-align: center; border: 1px solid #ddd;">{{ data.destinations }}</td>
                <td style="padding: 10px; text-align: center; border: 1px solid #ddd;">{{ data.bus_rout }}</td>
                <td style="padding: 10px; text-align: center; border: 1px solid #ddd;">
                    <!-- Update button: links to the update view for this record -->
                    <a href="{% url 'update_bus_route' data.id %}" style="padding: 5px 10px; background-color: #FF9800; color: white; text-decoration: none; border-radius: 5px; font-size: 14px;">
                        Update
                    </a>
                    <!-- Delete button: links to the delete view for this record -->
                    <a href="{% url 'delete_bus_route' data.id %}" onclick="return confirm('Are you sure you want to delete this record?');" style="padding: 5px 10px; background-color: #F44336; color: white; text-decoration: none; border-radius: 5px; font-size: 14px; margin-left: 5px;">
                        Delete
                    </a>
                </td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="5" style="text-align: center; padding: 20px;">No data available</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Pagination Controls -->
<div class="pagination-container">
    <span class="pagination-controls">
        {% if data.has_previous %}
            <a href="?page={{ data.previous_page_number }}" class="pagination-link">Previous</a>
        {% endif %}
        
        <span class="page-number">{{ data.number }}</span>
        
        {% if data.has_next %}
            <a href="?page={{ data.next_page_number }}" class="pagination-link">Next</a>
        {% endif %}
    </span>
</div>

{% endblock %}

